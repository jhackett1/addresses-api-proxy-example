<form>
    <label>Postcode to search for</label>
    <input name="postcode" value="E8 1HH"/>

    <button>Search</button>
</form>

<pre><code id="results"></code></pre>

<script>

document.querySelector("form").addEventListener("submit", (e) => {
  e.preventDefault();
  processSearch(e.target[0].value);
});

const processSearch = async (query) => {
  const res = await fetch(`/.netlify/functions/proxy?postcode=${query}`);
  const data = await res.json();
  document.querySelector("code").innerHTML = JSON.stringify(data);
};

</script>

